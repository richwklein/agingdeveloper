---
/**
 * A page of all the categories on the site.
 */
import Layout from '@layouts/Layout.astro'
import BreadcrumbHeader from '@components/BreadcrumbHeader.astro'
import { getCategoriesWithCount } from '@utils/article'
import TagGrid from '@components/TagGrid.astro'
import { getSite, getSiteAuthor } from '@utils/site'
import SeoBasic from '@components/seo/SeoBasic.astro'
import BreadcrumbJson from '@components/seo/BreadcrumbJson.astro'

const site = await getSite()
const siteAuthor = await getSiteAuthor()
const { categories, total } = await getCategoriesWithCount()
const categoriesPath = Astro.url.pathname
---

<Layout site={site}>
  <Fragment slot="seo">
    <SeoBasic
      title="Explore Our Categories: Discover Content by Topic"
      description="Navigate through all our content by category. Find articles organized by topic to easily explore the subjects that interest you most."
      path={categoriesPath}
      author={siteAuthor}
    />
    <BreadcrumbJson site={site} crumbs={[{ name: 'Categories', path: categoriesPath }]} />
  </Fragment>
  <BreadcrumbHeader head={{ name: 'Categories', path: categoriesPath }} class:list={['mb-4']} />
  <TagGrid tags={categories} total={total} isCategory={true} />
</Layout>
