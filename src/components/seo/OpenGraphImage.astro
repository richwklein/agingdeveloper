---
/**
 * @name OpenGraphImage
 * Component used to build out the image open graph meta tags.
 *
 * @return {Function} an Astro component factory function.
 *
 * @example
 * <OpenGraphImage image={article.featured.image} />
 */
import mime from 'mime'

interface Props {
  image: ImageMetadata
  imageAlt: string
}

const { image, imageAlt } = Astro.props
const baseUrl = import.meta.env.SITE
---

<meta property="og:image" content={`${baseUrl}${image.src}`} />
<meta property="og:image:type" content={mime.getType(image.src.split('?')[0])} />
<meta property="og:image:width" content={image.width.toString()} />
<meta property="og:image:height" content={image.height.toString()} />
<meta property="og:image:alt" content={imageAlt} />
