---
import PageFooter from "@components/PageFooter.astro"
import PageHeader from "@components/PageHeader.astro"
import ScrollTop from "@components/ScrollTop.astro"
import "@styles/main.css"
import { getSite } from "@utils/site"

const siteEntry = await getSite()
const site = siteEntry.data
const baseUrl = import.meta.env.SITE
---

<!doctype html>
<html lang={site.lang.split("-")[0].toLowerCase()}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/x-icon" href="/icons/favicon.ico" />
    <link rel="icon" type="image/png" sizes="16x16" href="/icons/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/icons/favicon-32x32.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/icons/apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/icons/android-icon-192x192.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/icons/android-icon-512x512.png" />
    <link rel="manifest" href='/site.webmanifest"' />
    <link rel="sitemap" href="/sitemap-index.xml" />
    <link
      rel="alternate"
      type="application/xml"
      title={`${site.title} - RSS`}
      href={`${baseUrl}/rss.xml`}
    />
    <link
      rel="alternate"
      type="application/atom+xml"
      title={`${site.title} - Atom`}
      href={`${baseUrl}/atom.xml`}
    />
    <link
      rel="alternate"
      type="application/json"
      title={`${site.title} - Feed`}
      href={`${baseUrl}/feed.json`}
    />
    <meta name="generator" content={Astro.generator} />
    <slot name="seo" />
  </head>
  <body>
    <PageHeader class:list={["mb-8"]} />
    <main class:list={["container mx-auto px-4 xl:max-w-screen-xl"]}>
      <slot />
    </main>
    <PageFooter class:list={["mb-4", "mt-8"]} />
    <ScrollTop />
  </body>
</html>
